integrations:
  - name: nri-flex
    config:
      name: nginxFlex
      # interval: 30s
      global:
        base_url: https://demo.nginx.com/api/6
      apis:
        - name: server_zones
          event_type: NginxServerZoneSample
          url: /http/server_zones
          split_objects: true
          rename_keys:
            split.id: server.zone
        - name: caches
          event_type: NginxCacheSample
          url: /caches
          split_objects: true
          rename_keys:
            split.id: cache.zone
        - name: upstreams
          event_type: NginxUpstreamSample
          url: /http/upstreams
          split_objects: true
          rename_keys:
            split.id: upstream.zone
        - name: slabs
          event_type: NginxSlabSample
          url: /slabs
          split_objects: true
          rename_keys:
            split.id: memory.zone
        - name: httpRequests
          event_type: NginxHttpRequestSample
          url: /http/requests

